{"ast":null,"code":"var _jsxFileName = \"/home/marwan/django-react/my-react-app/src/pages/options.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BookPage() {\n  _s2();\n  var _s = $RefreshSig$();\n  const [books, setBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    async function fetchBooks() {\n      try {\n        const response = await axios.get('http://localhost:8000/books');\n        setBooks(response.data);\n        setIsLoading(false);\n      } catch (error) {\n        console.error(error);\n        setIsLoading(false);\n      }\n    }\n    fetchBooks();\n  }, []);\n  const handleDelete = async bookId => {\n    try {\n      await axios.delete(`/books/${bookId}`);\n      setBooks(prevBooks => prevBooks.filter(book => book.id !== bookId));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleView = async bookId => {\n    // Implement view book functionality\n  };\n  const handleUpdate = async bookId => {\n    _s();\n    // form to update book\n    const [title, setTitle] = useState('');\n    const [author, setAuthor] = useState('');\n    const [description, setDescription] = useState('');\n    const handleSubmit = async e => {\n      e.preventDefault();\n      try {\n        const response = await axios.put('http://localhost:8000/books', {\n          title,\n          author,\n          description,\n          isbn,\n          genre,\n          language\n        });\n        console.log(response.data);\n        localStorage.setItem('access', response.data.access);\n        localStorage.setItem('refresh', response.data.refresh);\n        navigate('/options');\n      } catch (error) {\n        console.error(error);\n      }\n    };\n  };\n  _s(handleUpdate, \"BU3+4ywAHXLpGR2btZs3EvtE3J8=\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: books.map(book => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [book.title, \" (\", book.author, \")\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(book.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleView(book.id),\n          children: \"View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleUpdate(book.id),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, book.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n_s2(BookPage, \"2ZNGozkvldSL/bPsL6QaUeZUH+E=\");\n_c = BookPage;\nexport default BookPage;\nvar _c;\n$RefreshReg$(_c, \"BookPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","BookPage","_s2","_s","$RefreshSig$","books","setBooks","isLoading","setIsLoading","fetchBooks","response","get","data","error","console","handleDelete","bookId","delete","prevBooks","filter","book","id","handleView","handleUpdate","title","setTitle","author","setAuthor","description","setDescription","handleSubmit","e","preventDefault","put","isbn","genre","language","log","localStorage","setItem","access","refresh","navigate","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","_c","$RefreshReg$"],"sources":["/home/marwan/django-react/my-react-app/src/pages/options.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction BookPage() {\n  const [books, setBooks] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchBooks() {\n      try {\n        const response = await axios.get('http://localhost:8000/books');\n        setBooks(response.data);\n        setIsLoading(false);\n      } catch (error) {\n        console.error(error);\n        setIsLoading(false);\n      }\n    }\n    fetchBooks();\n  }, []);\n\n  const handleDelete = async (bookId) => {\n    try {\n      await axios.delete(`/books/${bookId}`);\n      setBooks((prevBooks) => prevBooks.filter((book) => book.id !== bookId));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleView = async (bookId) => {\n    // Implement view book functionality\n  };\n\n  const handleUpdate = async (bookId) => {\n\n\n    // form to update book\n    const [title, setTitle] = useState('');\n    const [author, setAuthor] = useState('');\n    const [description, setDescription] = useState('');\n   \n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const response = await axios.put('http://localhost:8000/books', { title, author, description, isbn, genre, language });\n            console.log(response.data);\n            localStorage.setItem('access', response.data.access);\n            localStorage.setItem('refresh', response.data.refresh);\n            navigate('/options');\n    \n        } catch (error) {\n    \n            console.error(error);\n    \n        }\n        }\n\n\n\n  };\n\n  return (\n    <div>\n      <h1>Books</h1>\n      {isLoading ? (\n        <p>Loading...</p>\n      ) : (\n        <ul>\n          {books.map((book) => (\n            <li key={book.id}>\n              {book.title} ({book.author})\n              <button onClick={() => handleDelete(book.id)}>Delete</button>\n              <button onClick={() => handleView(book.id)}>View</button>\n              <button onClick={() => handleUpdate(book.id)}>Update</button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default BookPage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}